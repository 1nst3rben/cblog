function reload_table(){table.ajax.reload(null,!1)}function resetForm(){$("#maddcafo").trigger("reset")}function del_t(a){$.ajax({type:"POST",url:"categories/change",data:{change:a},dataType:"json",success:function(t){"true"==t.msg?($("#h4text").html('<i class="fa fa-question-circle"> Delete '+t.category+"</i>"),$(".yes").attr("data-target",a),$("#confdel").modal("show").on("shown.bs.modal")):toastr.error("Data "+t.msg+" !")}})}function edit_modalt(a){$("#meditca").find("form")[0].reset(),$("#meditcafo").formValidation("resetForm",!0),$.ajax({type:"POST",url:"categories/change",data:{change:a},dataType:"json",success:function(a){"true"==a.msg?($("#enmc").val(a.category),$("#meditca").modal("show").on("shown.bs.modal")):toastr.error("Data "+a.msg+" !")}})}function over(a){$.ajax({type:"POST",url:"categories/over",data:{take:a},dataType:"json",success:function(t){"Enable"==t.msg?(toastr.success(t.msg+" Category "+t.cat+" !"),$("[data-target="+a+"]").attr("class","btn btn-sm btn-success"),$("[data-target="+a+"]").html("Disable"),$("[data-target=dr"+a+"]").attr("class","btn btn-sm btn-success")):(toastr.error(t.msg+" Category "+t.cat+" !"),$("[data-target="+a+"]").attr("class","btn btn-sm btn-danger"),$("[data-target="+a+"]").html("Enable"),$("[data-target=dr"+a+"]").attr("class","btn btn-sm btn-danger"))}})}var table;$(document).ready(function(){table=$("#tablecategories").DataTable({searching:!1,paging:!0,ordering:!1,info:!1,processing:!0,serverSide:!0,ajax:{url:"categories/view-tabel",type:"POST"},responsive:!0,language:{sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sInfoThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sZeroRecords:"No matching records found",oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"}}})}),$("#addca").click(function(){resetForm(),$.ajax({type:"POST",url:"categories/addform",dataType:"html",success:function(a){$("#maddca").modal("show").on("shown.bs.modal"),$("#tampil").html(a)}})}),$(".yes").click(function(){var a=$(this).data("target");$.ajax({type:"POST",url:"categories/prodel",data:{"delete":a},dataType:"json",success:function(a){"success"==a.msg?($("#confdel").modal("hide").on("shown.bs.modal"),toastr.success('Category "'+a.cat+'"" has been deleted !'),reload_table()):toastr.error("An error occured, please try again !")}})}),$(document).ready(function(){$("#meditcafo").formValidation({framework:"bootstrap",excluded:":disabled",icon:{valid:"",invalid:"",validating:""},locale:"id_ID",fields:{category:{validators:{notEmpty:{},stringLength:{max:100},remote:{url:"categories/catauths",type:"POST"}}}}}).on("success.form.fv",function(a){a.preventDefault(),$.ajax({type:"POST",url:"categories/proch",data:$("#meditcafo").serialize(),dataType:"json",success:function(a){"success"==a.msg?(toastr.success("Change Success ! "),reload_table(),$("#meditca").modal("hide")):toastr.error("Change Error !")}})})});